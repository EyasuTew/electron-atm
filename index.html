<html>
 <head>
  <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css"> 
  <link rel="stylesheet" href="./css/styles.css">
  <link href="node_modules/vis/dist/vis.css" rel="stylesheet" type="text/css" />
  
  <script src="node_modules/vis/dist/vis.js"></script>

  <script>
    window.nodeRequire = require;
    delete window.require;
    delete window.exports;
    delete window.module;
  </script>
  <script src="./vendor/jquery-3.1.1.js"></script>

 </head>
  <body>
   <div id="container" class="container-fluid">

      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button id="atm-status-button" type="button" class="btn btn-md connection-button" aria-label="Left Align">
              <span id="atm-status-icon" class="glyphicon" aria-hidden="true"></span>
            </button>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse menu-buttons" id="menu-buttons">
            <ul class="nav navbar-nav">              
              <li><button type="button" id="atm-button-menu" data-section="menus" class="nav-button">ATM</button></li>
              <li><button type="button" id="states-button-menu" data-section="menus" class="nav-button">States</button></li>
              <li><button type="button" id="screens-button-menu" data-section="menus" class="nav-button">Screens</button></li>
              <li><button type="button" id="fits-button-menu" data-section="menus" class="nav-button">FITs</button></li>
              <li><button type="button" id="emv-button-menu" data-section="menus" class="nav-button">EMV</button></li>
              <li><button type="button" id="cards-button-menu" data-section="menus" class="nav-button">Cards</button></li>
            </ul>

            <form id="search-state-form" class="navbar-form navbar-left" hidden="true">
              <div class="form-group">
                <input type="number" class="form-control buffer-6" id="search-state-input" value=""></input>
              </div>
              <button type="submit" class="btn btn-default" id="search-state-button">Search</button>
            </form>

            <form id="atm-buffers" class="navbar-form navbar-right">
              <div class="form-group">
                <input type="text" class="form-control buffer-6 letter-spacing" id="current-state" value="" title="State" placeholder="State" disabled></input>
                <input type="text" class="form-control buffer-8 letter-spacing" id="current-screen" value="" title="Screen" placeholder="Screen" disabled></input>
                <input type="text" class="form-control buffer-8 letter-spacing" id="pin-buffer" value="" title="PIN Buffer" placeholder="Buffer A" disabled></input>
                <input type="text" class="form-control buffer-12 letter-spacing" id="buffer-b" value="" title="Buffer B" placeholder="Buffer B" disabled></input>
                <input type="text" class="form-control buffer-12 letter-spacing" id="buffer-c" value="" title="Buffer C" placeholder="Buffer C" disabled></input>
                <input type="text" class="form-control buffer-8 letter-spacing" id="opcode-buffer" value="" title="Operation Code Buffer" placeholder="Opcode" disabled></input>
                <input type="text" class="form-control buffer-12 letter-spacing" id="amount-buffer" value="" title="Amount Buffer" placeholder="Amount Buffer" disabled></input>
              </div>
            </form>

            <!--
            <form id="opcode-buffer-form" class="navbar-form navbar-center">
              <div class="form-group">
                <input type="text" class="form-control letter-spacing" id="opcode-buffer" value="" disabled="" title="Operation Code Buffer"></input>
              </div>
            </form>
            -->

          </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
      </nav>


      <!-- STATES -->
      <div class="row" id="states-page" hidden="true">
        <div id="mynetwork" class="col-md-8 mynetwork"></div>

        <div class="col-md-4">  
          <img id="states-screen" class="states-screen" src="/home/tim/share/screens/PIC010.jpg"> 
          <pre id="state-details" class="state-details" type="text"></pre>
        </div>
      </div>

      <!-- CARDS -->
      <div id="cards-page" hidden="true">    
        <table class="table table-striped">
          <thead class="thead" id="thead">
            <tr>
              <th>Scheme</th>
              <th>Cardnumber</th>
              <th>FIT Entry</th>
              <th>Name</th>
              <th>Exp. Date</th>
              <th>Service Code</th>
              <th>PVKi</th>
              <th>PVV</th>
              <th>CVV</th>
              <th>Discr.Data</th>
            </tr>
          </thead>
          <tbody class="tbody" id="tbody">
            <tr>
              <td><img class="scheme-logo" src="./img/VISA.png"></td>
              <td>4444 5555 6666 7777 <span class="badge" title="PIN">1234</span></td>
              <td>01</td>
              <td>VISA Test #25</td>
              <td>2012</td>
              <td>101</td>
              <td>1</td>
              <td>0016</td>
              <td>586</td>
              <td>00001</td>
            </tr>
            <tr>
              <td><img class="scheme-logo" src="./img/Mastercard.png"></td>
              <td>5555 6666 7777 8888</td>
              <td>02</td>
              <td>MCHIP Test #03</td>
              <td>1903</td>
              <td>211</td>
              <td>1</td>
              <td>0016</td>
              <td>586</td>
              <td></td>
            </tr>
            <tr>
              <td><img class="scheme-logo" src="./img/CUP.png"></td>
              <td>6666 7777 8888 9999</td>
              <td>03</td>
              <td>CUP Card #03</td>
              <td>1907</td>
              <td>211</td>
              <td>1</td>
              <td>9999</td>
              <td>206</td>
              <td></td>
            </tr>
          </tbody>
        </table>
        <button class="btn btn-success" id="add-card-button" >New Card</button> 
      </div>

      <!-- ATM -->
      <div class="row main-area" id="atm-page">        
        <div class="col-md-1 fdk-button-block">
          <button id="FDK-I" type="submit" class="btn btn-lg btn-block fdk-button" disabled>I</button>
          <button id="FDK-H" type="submit" class="btn btn-lg btn-block fdk-button" disabled>H</button>
          <button id="FDK-G" type="submit" class="btn btn-lg btn-block fdk-button" disabled>G</button>
          <button id="FDK-F" type="submit" class="btn btn-lg btn-block fdk-button" disabled>F</button>
        </div>
        
        <!-- ATM Screen-->
        <div id="screen-container" class="col-md-5 terminal-screen">
          <img id="screen" src="/home/tim/share/screens/PIC010.jpg" width="640" height="480">          
          <div id="coordinates-row" class="coordinates-row coordinates">@ABCDEFGHIJKLMNO0123456789:;<=>?</div>
          <div class="on-screen-text">
            <div id="at-coordinate-row" class="at-coordinate-row coordinates">@</div>
            <div id="at-screen-row" class="at-screen-row"></div>

            <div id="A-coordinate-row" class="A-coordinate-row coordinates">A</div>
            <div id="A-screen-row" class="A-screen-row"></div>

            <div id="B-coordinate-row" class="B-coordinate-row coordinates">B</div>
            <div id="B-screen-row" class="B-screen-row"></div>
            
            <div id="C-coordinate-row" class="C-coordinate-row coordinates">C</div>            
            <div id="C-screen-row" class="C-screen-row"></div>
            
            <div id="D-coordinate-row" class="D-coordinate-row coordinates">D</div>            
            <div id="D-screen-row" class="D-screen-row"></div>
            
            <div id="E-coordinate-row" class="E-coordinate-row coordinates">E</div>            
            <div id="E-screen-row" class="E-screen-row"></div>

            <div id="F-coordinate-row" class="F-coordinate-row coordinates">F</div>            
            <div id="F-screen-row" class="F-screen-row"></div>

            <div id="G-coordinate-row" class="G-coordinate-row coordinates">G</div>            
            <div id="G-screen-row" class="G-screen-row"></div>

            <div id="H-coordinate-row" class="H-coordinate-row coordinates">H</div>            
            <div id="H-screen-row" class="H-screen-row"></div>

            <div id="I-coordinate-row" class="I-coordinate-row coordinates">I</div>            
            <div id="I-screen-row" class="I-screen-row"></div>

            <div id="J-coordinate-row" class="J-coordinate-row coordinates">J</div>            
            <div id="J-screen-row" class="J-screen-row"></div>

            <div id="K-coordinate-row" class="K-coordinate-row coordinates">K</div>            
            <div id="K-screen-row" class="K-screen-row"></div>

            <div id="L-coordinate-row" class="L-coordinate-row coordinates">L</div>            
            <div id="L-screen-row" class="L-screen-row"></div>

            <div id="M-coordinate-row" class="M-coordinate-row coordinates">M</div>            
            <div id="M-screen-row" class="M-screen-row"></div>

            <div id="N-coordinate-row" class="N-coordinate-row coordinates">N</div>            
            <div id="N-screen-row" class="N-screen-row"></div>

            <div id="O-coordinate-row" class="O-coordinate-row coordinates">O</div>            
            <div id="O-screen-row" class="O-screen-row"></div>
          </div>
        </div>

        <div id="FDK-block-right" class="col-md-1 fdk-button-block">
          <button id="FDK-A" type="submit" class="btn btn-lg btn-block fdk-button" disabled>A</button>
          <button id="FDK-B" type="submit" class="btn btn-lg btn-block fdk-button" disabled>B</button>
          <button id="FDK-C" type="submit" class="btn btn-lg btn-block fdk-button" disabled>C</button>
          <button id="FDK-D" type="submit" class="btn btn-lg btn-block fdk-button" disabled>D</button>
        </div>

        <div class="col-md-5">
          <pre id="log-output" class="log-output" type="text"></pre>
        </div>
      </div>

      <nav class="navbar navbar-default" id="atm-bottom-navbar">
        <div class="container-fluid">
          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <form id="card-read-form" class="navbar-form navbar-left">
              <div class="form-group">
                <select class="form-control" id="cards-list"></select>
              </div> 
              <button type="submit" class="btn btn-default" id="card-inserted">Read Card</button>
            </form>
      
            <form id="keys-form buffers" class="navbar-form navbar-right keys-form ">
              <div class="form-group">
                <input type="text" class="form-control buffer-32" id="master-key" value="" placeholder="Master Key" title="Master Key Clear Value" disabled></input>
                <input type="text" class="form-control buffer-6" id="master-key-cv" value="" placeholder="KCV" title="Master Key Check Value" disabled></input>
                <input type="text" class="form-control buffer-32" id="comms-key" value="" placeholder="Communications Key Clear Value" title="Communications Key" disabled></input>
                <input type="text" class="form-control buffer-6" id="comms-key-cv" value="" placeholder="KCV" title="Communications Key Check Value" disabled></input>
              </div>
            </form>

          </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
      </nav>
    </div>

    <script src="./src/listeners/network.js" charset="utf-8"></script>
    <script src="./src/listeners/states.js" charset="utf-8"></script>
    <script src="./src/listeners/parser.js" charset="utf-8"></script>
    <script src="./src/listeners/atm.js" charset="utf-8"></script>
    <script src="./src/listeners/builder.js" charset="utf-8"></script>
    <script src="./src/listeners/cards.js" charset="utf-8"></script>
    <script src="node_modules/mousetrap/mousetrap.min.js" charset="utf-8"></script>
    <script>window.$ = window.jQuery = nodeRequire('./vendor/jquery-3.1.1.js');</script>
    <script src="./src/listeners/window.js" charset="utf-8"></script>
  </body>
</html>